# ----------------------- #
# --- Styled terminal --- #
# ----------------------- #
styled_parse_git_branch() 
{
    git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/' | \
    awk '{printf "   \033[31m\033[97;41m 󰊢 %s \033[m\033[31m", $0}'
}

export VIRTUAL_ENV_DISABLE_PROMPT=1
styled_parse_venv() {
    if [[ -n "$VIRTUAL_ENV" ]]; then
        venv_name=$(basename "$VIRTUAL_ENV")
        printf " \033[32m\033[97;42m  %s \033[m\033[32m" "$venv_name"
    fi
}

export CONDA_CHANGEPS1=false
styled_parse_conda() {
    if [[ -n "$CONDA_DEFAULT_ENV" && -z "$VIRTUAL_ENV" ]]; then
        conda_env_name=$(basename "$CONDA_DEFAULT_ENV")
        printf  " \033[36m\033[97;46m  %s \033[m\033[36m" "$conda_env_name"
    fi
}

PS1='\n\[\033[34m\]\[\033[97;44m\] 󰟍 \u  \[\033[35m\]\[\033[97;45m\]  ${PWD#${PWD%/*/*/*}/} \[\033[0m\]\[\033[35m\]$(styled_parse_git_branch)$(styled_parse_venv)$(styled_parse_conda) \n\[\033[0m\]  '

